<div class="team-selection-layout">

  <!-- MAIN CARD (NEVER MOVES) -->
  <div class="team-selection-container">
    <h2 class="title">Select Teams for Sarkaar ðŸ‘‘</h2>

    <div class="dropdown-section">
      <label>Number of Teams</label>
      <select [(ngModel)]="teamCount" (change)="onTeamCountChange()">
        <option *ngFor="let n of teamNumbers" [value]="n">{{ n }}</option>
      </select>
    </div>

    <div class="dropdown-section">
      <label>Maximum Bid Amount</label>
      <input
        type="number"
        min="100"
        [(ngModel)]="maxBid"
        class="no-spinner"
      />
    </div>

    <div class="dropdown-section">
      <label>Step Up/Down Amount</label>
      <input
        type="number"
        min="10"
        [(ngModel)]="stepCount"
        class="no-spinner"
      />
    </div>

    <!-- TEAM INPUT -->
    <div class="team-names-section" *ngIf="currentInputIndex < teamCount">
      <div class="team-name-input">
        <label>Team {{ currentInputIndex + 1 }}</label>

        <input
          [(ngModel)]="teamNames[currentInputIndex]"
          placeholder="Enter team name"
          (keyup.enter)="nextTeamInput()"
          [disabled]="currentInputIndex >= teamCount"
          autofocus
        />

        <div *ngIf="nameError" class="team-name-error">
          {{ nameError }}
        </div>

        <button
          (click)="nextTeamInput()"
          [disabled]="teamNames[currentInputIndex].trim().length === 0 || currentInputIndex >= teamCount"
        >
          Next
        </button>
      </div>
    </div>

    <button
      class="proceed-btn"
      (click)="proceed()"
      [disabled]="!canProceed()"
    >
      Proceed ðŸš€
    </button>
  </div>

  <!-- SIDE PANEL (ALWAYS PRESENT) -->
  <div class="team-names-side-panel">
    <ng-container *ngIf="filledTeamNames.length > 0; else emptyState">
      <div
        class="team-name-card"
        *ngFor="let name of filledTeamNames; let i = index"
      >
        Team {{ i + 1 }}: {{ name }}
      </div>
    </ng-container>

    <ng-template #emptyState>
      <div class="side-panel-empty">
        ðŸ‘‘ No teams added yet
        <span>Start typing team names</span>
      </div>
    </ng-template>
  </div>

</div>
