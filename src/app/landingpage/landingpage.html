<div class="landing-container">
  <div class="timer-wrapper" *ngIf="isGameLocked">
    <app-timer #roundTimer (finished)="onTimerFinished()"></app-timer>
  </div>
  <div class="game-header">
    <h1 class="game-title">ğŸ‘‘ Sarkaar</h1>
    <p class="game-subtitle">
      Bid smart. Answer right. Rule the game.
    </p>
  </div>

  <div class="main-content-area">
    <div class="team-grid">
      <app-team-card *ngFor="let team of teams" [team]="team" [isLocked]="isGameLocked"
        [isActive]="activeTeam === team.teamId" [answerEnabled]="!!roundTimer?.running"
        [resultState]="results[team.teamId] || 'none'" (bidChange)="onBidPlaced($event, team.teamId)"
        (answer)="handleAnswer($event, team.teamId)">
      </app-team-card>
    </div>

    <div class="lock-wrapper" *ngIf="!isGameLocked">
      <button class="lock-button" (click)="lockBids()" [disabled]="!canLock()">
        ğŸ”’ Lock Bids
      </button>
        <button class="winner-button" (click)="showWinner()" [disabled]="teams.length === 0">
          ğŸ† Show Winner
        </button>
    </div>
      <div class="winner-modal" *ngIf="winnerModalOpen">
        <div class="winner-content animate-winner">
          <h2>ğŸ† Winner</h2>
          <div *ngIf="winnerTeam">
            <p class="winner-name">{{ winnerTeam.name }}</p>
            <p class="winner-bid">Balance: â‚¹{{ winnerTeam.balance }}</p>
          </div>
          <button class="close-winner" (click)="closeWinnerModal()">Close</button>
        </div>
      </div>
  </div>
</div>